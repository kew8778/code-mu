<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <style>
            td {
                width: 50px;
                height: 50px;
            }
            .color1 {
	            background: red;
            }
            .color2 {
	            background: green;
            }
        </style>
    </head>
    <body>
        <table border="1">
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>

        <script>
            'use strict';

            // переделал на своё видение

            const tds = document.querySelectorAll('td');
            let color = 'color1';

            for (let td of tds) {
                td.addEventListener('click', function() {
                    if (td.classList.contains('color1')) {
                        td.classList.remove('color1');
                        td.classList.add('color2');
                    } else if (td.classList.contains('color2')) {
                        td.classList.remove('color2');
                        td.classList.add('color1');
                    } else {
                        td.classList.add(color);
                    }

                    if (color === 'color1') {
			            color = 'color2';
		            } else {
			            color = 'color1';
		            }
                });
            }

        </script>
    </body>
</html>